<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>๋ก๊ทธ์ธ</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link th:href="@{/css/mainStyle.css}" rel="stylesheet">
    <link th:href="@{/css/login.css}" rel="stylesheet">
    <link th:href="@{/css/chatbot.css}" rel="stylesheet">
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
        <a class="navbar-brand" th:href="@{/pets-care/main}">๐ถ ๋ฐ๋ค๊ฒฌ ๋๋ด</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/pets-care/pet-sitter/information}">ํซ์ํฐ ์๋น์ค</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/pets-care/reservable-list?page=0&size=9}">ํ๋จ์ฌ ํ๋กํ</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/pets-care/reviews}">์ด์ฉ ํ๊ธฐ</a>
                </li>
            </ul>
            <div class="navbar-buttons">
                <a th:href="@{/pets-care/login}" class="btn btn-outline-primary mr-2">๋ก๊ทธ์ธ</a>
                <a th:href="@{/pets-care/signup}" class="btn btn-primary">ํ์๊ฐ์</a>
            </div>
        </div>
    </div>
</nav>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header text-center bg-primary text-white">
                    <h4>๋ก๊ทธ์ธ</h4>
                </div>
                <div class="card-body">
                    <!-- ๋ก๊ทธ์ธ ์คํจ ์ ์๋ฌ ๋ฉ์์ง -->
                    <!--<div th:if="${error != null}" class="alert alert-danger" role="alert">
                        <p th:text="${error}"></p>
                    </div>
                    <form th:action="@{/pets-care/login}" method="post">
                        <div class="form-group">
                            <label for="loginId">์์ด๋</label>
                            <input type="text" class="form-control" id="loginId" name="loginId" placeholder="์์ด๋๋ฅผ ์๋ฅํ์ธ์." required>
                        </div>
                        <div class="form-group">
                            <label for="password">๋น๋ฐ๋ฒํธ</label>
                            <input type="password" class="form-control" id="password" name="password" placeholder="๋น๋ฐ๋ฒํธ๋ฅผ ์๋ฅํ์ธ์." required>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">๋ก๊ทธ์ธ</button>
                    </form>-->

                    <!--<form onsubmit="event.preventDefault(); login();">
                        <input name="_csrf" type="hidden" value="${_csrf.token}">
                        <div class="form-group">
                            <label for="loginId">์์ด๋</label>
                            <input type="text" class="form-control" id="loginId" name="loginId" placeholder="์์ด๋๋ฅผ ์๋ฅํ์ธ์.">
                        </div>
                        <div class="form-group">
                            <label for="password">๋น๋ฐ๋ฒํธ</label>
                            <input type="password" class="form-control" id="password" name="password" placeholder="๋น๋ฐ๋ฒํธ๋ฅผ ์๋ฅํ์ธ์.">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">๋ก๊ทธ์ธ</button>
                    </form>-->

                    <form id="loginForm">
                        <!-- CSRF ํํฐ -->
                        <input type="hidden" name="_csrf" id="csrfToken" value="${_csrf.token}">

                        <div class="form-group">
                            <label for="loginId">์์ด๋</label>
                            <input type="text" class="form-control" id="loginId" name="username" placeholder="์์ด๋๋ฅผ ์๋ฅํ์ธ์.">
                        </div>

                        <div class="form-group">
                            <label for="password">๋น๋ฐ๋ฒํธ</label>
                            <input type="password" class="form-control" id="password" name="password" placeholder="๋น๋ฐ๋ฒํธ๋ฅผ ์๋ฅํ์ธ์.">
                        </div>

                        <button type="submit" class="btn btn-primary btn-block">๋ก๊ทธ์ธ</button>
                    </form>
                </div>
                <div class="social-login">
                    <a href="/oauth2/authorization/naver">
                        <img src="/images/naver-login.png" alt="Naver Login">
                    </a>
                    <a href="/oauth2/authorization/kakao">
                        <img src="/images/kakao_login_medium_narrow.png" alt="Kakao Login">
                    </a>
                    <a href="/oauth2/authorization/google">
                        <img src="/images/google-login.png" alt="Google Login">
                    </a>
                </div>
                <br>
                <div class="card-footer text-center">
                    <p>์์ง ๊ณ์์ด ์์ผ์๊ฐ์? <a th:href="@{/pets-care/signup}">ํ์๊ฐ์</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ์ฑ๋ด ํ๊ธ ๋ฒํผ -->
<button id="chatbot-toggle" class="chatbot-float-btn">
    ๐ฌ
</button>

<!-- ์ฑ๋ด UI -->
<div id="chatbot-container" class="chatbot-container d-none">
    <div class="chat-header">
        <span class="chat-title">๐ถ ๋ฐ๋ค๊ฒฌ ์ฑ๋ด</span>
        <button id="chatbot-close" class="chat-close-btn">&times;</button>
    </div>
    <div id="chat-log" class="chat-log"></div>
    <div id="button-container" class="chat-buttons"></div>
    <div class="chat-input">
        <input type="text" id="user-input" placeholder="๋ฉ์์ง๋ฅผ ์๋ฅํ์ธ์..." />
        <button id="send-btn">์์ก</button>
    </div>
</div>

<!-- ํธํฐ -->
<footer class="text-center py-4">
    <p>&copy; 2025 ๋ฐ๋ค๋๋ฌผ ๋๋ด ์๋น์ค. All rights reserved.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>  <!-- Full ๋ฒ์ -->
<script src="/js/login/login.js"></script>
<script src="/js/chatbot/chatbot.js"></script>
</body>
</html>